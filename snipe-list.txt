Add tests - fixing a bugUpdate database - improving performance